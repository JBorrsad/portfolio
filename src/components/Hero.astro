---
const personalImageAlt = "Juan Borrás Sada"
import BadgeStatic from "@/components/BadgeStatic.astro"
import LinkedInIcon from "@/components/icons/LinkedIn.astro"
import MailIcon from "@/components/icons/Mail.astro"
import WhatsAppIcon from "@/components/icons/WhatsApp.astro"
import GitHubIcon from "@/components/icons/GitHubNew.astro"
import DownloadIcon from "@/components/icons/Download.astro"
import SocialPill from "@/components/SocialPill.astro"
import DownloadPill from "@/components/DownloadPill.astro"
---

<div class="max-w-7xl mx-auto px-8 md:px-16 lg:px-20">
  <div class="flex gap-4 mb-4">
    <img
      class="rounded-full shadow-lg size-16"
      src="/me-hero.jpeg"
      alt={personalImageAlt}
    />
    <div class="flex items-center md:justify-center">
      <BadgeStatic>Disponible para trabajar</BadgeStatic>
    </div>
  </div>
  
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
    <div>
      <h1
        class="text-4xl font-bold tracking-tight text-gray-800 sm:text-5xl dark:text-white whitespace-nowrap"
      >
        Hola! soy Juan Borrás
      </h1>
      <div class="typewriter">
        <span class="typewriter-text" id="typewriter-text"></span>
      </div>
    </div>
    
    <div class="md:mt-44">
      <p
        class="text-xl text-gray-800 dark:[&>strong]:text-yellow-200 [&>strong]:text-yellow-500 [&>strong]:font-semibold dark:text-gray-300"
      >
        Soy Desarrollador Full Stack con formación en DAM.
        Apasionado por la arquitectura limpia y las buenas
        prácticas. Tengo mucha motivación por seguir
        aprendiendo y aportar soluciones sólidas
      </p>
    </div>
  </div>
  
  <nav class="flex flex-wrap justify-center gap-4 mt-12">
    <SocialPill href="mailto:juan-borras@hotmail.com">
      <MailIcon class="size-4" />
      Mail
    </SocialPill>
    <SocialPill href="https://wa.me/34661437136">
      <WhatsAppIcon class="size-4" />
      Whatsapp
    </SocialPill>
    <SocialPill href="https://github.com/JBorrsad">
      <GitHubIcon class="size-4" />
      Github
    </SocialPill>
    <SocialPill href="https://www.linkedin.com/in/juan-borrás-sada-a690b0239">
      <LinkedInIcon class="size-4" />
      Linkedin
    </SocialPill>
    <DownloadPill href="/CV_Juan_Borras.pdf" download="CV_Juan_Borras.pdf">
      <DownloadIcon class="size-4" />
      Curriculum
    </DownloadPill>
  </nav>
</div>

<style>
  @import url('https://fonts.googleapis.com/css2?family=Jersey+10&display=swap');

  .typewriter {
    display: inline-flex;
    justify-content: flex-start;
    margin-top: 0.5rem;
  }

  .typewriter-text {
    font-family: 'Jersey 10', 'Courier New', Courier, monospace;
    font-size: 20px;
    font-weight: 400;
    margin: 0;
    padding: 0.5rem 1rem;
    background-color: #000000;
    color: #ffffff;
    white-space: nowrap;
    min-height: 2.5rem;
    display: inline-flex;
    align-items: center;
  }

  .cursor {
    display: inline-block;
    color: #ffffff;
    font-family: 'Onest Variable', system-ui, -apple-system, sans-serif;
    font-weight: 400;
    font-size: 24px;
    line-height: 0.8;
    margin-left: 2px;
    vertical-align: middle;
  }

  @keyframes cursorBlink {
    0%, 49% {
      opacity: 1;
    }
    50%, 100% {
      opacity: 0;
    }
  }
</style>

<script>
  const text = "Fullstack Developer";
  const typewriterElement = document.getElementById("typewriter-text");
  let index = 0;

  function typeWriter() {
    if (!typewriterElement) return;
    
    if (index < text.length) {
      // Añadir la siguiente letra
      const currentText = text.substring(0, index + 1);
      typewriterElement.innerHTML = currentText + '<span class="cursor">|</span>';
      index++;
      setTimeout(typeWriter, 250); // 0.25 segundos por letra
    } else {
      // Cuando termine, hacer que la barra parpadee
      const currentText = text;
      const cursorSpan = document.createElement('span');
      cursorSpan.className = 'cursor';
      cursorSpan.textContent = '|';
      cursorSpan.style.animation = 'cursorBlink 0.75s steps(1, end) infinite';
      
      typewriterElement.innerHTML = currentText;
      typewriterElement.appendChild(cursorSpan);
    }
  }

  // Iniciar el efecto cuando la página cargue
  document.addEventListener('DOMContentLoaded', typeWriter);
</script>
